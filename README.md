# Взлом школьного сайта

Данный скрипт позволяет выбрать определенного ученика, исправить у него плохие оценки на хорошие, удалить все жалобы и добавить похвалу к нужному уроку.

## Что необходимо подготовить

Для того чтобы данный скрипт работал, необходимо чтобы сайт электронного дневника был развернут или имелся доступ к серверу.

Необходимо скачать [репозиторий сайта](https://github.com/devmanorg/e-diary/tree/master), файл `scripts.py` и положить его в директорию с сайтом в папку `e-diary`.

После этого открываем командную строку, указываем директорию с сайтом с помощью команды:
```
cd *Путь до папки e-diary*
```
> убрать звездочки и вписать путь до указанной папки

<img width="917" height="178" alt="image" src="https://github.com/user-attachments/assets/17bf7e93-64d9-419d-b426-e66c6c537792" />


Дальше установить все необходимые пакеты введя в командную строку команду:
```
pip install requirements.txt
```
### Если разворачиваем сайт самостоятельно

Если Вы хотите поэксперементировать и поизучать сайт школы, тогда можете развернуть свой локальный сервер. Помимо указанных выше шагов создаем базу данных(далее БД) с помощью команды:
```
python3 manage.py migrate
```
Создастся пустая БД, необходимо её заполнить самостоятельно или найти подходящую с данными.

Далее создаем переменное окружение `.env` в папке сайта `e-diary` и записываем туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`:

- `DEBUG` — дебаг-режим. Поставьте True, чтобы увидеть отладочную информацию в случае ошибки.
- `SECRET_KEY` — секретный ключ проекта
- `ALLOWED_HOSTS` — в нашем случае нужно необходимо указать локальные домены:
```
ALLOWED_HOSTS='127.0.0.1', 'localhost'
```
- `DATABASE_NAME` — путь до базы данных, например: `schoolbase.sqlite3`

После этого запускаем локальный сервер и можем запускать скрипты из файла scripts.py:
```
python3 manage.py runserver
```
**Важно**: Не закрывайте окошко командной строки с запущенным сервером. Для запуска скриптов из файла scripts.py необходимо открыть вторую консоль и прописывать последующие команды там.
<img width="843" height="236" alt="image" src="https://github.com/user-attachments/assets/33bc792f-8cc8-4938-a151-f5cce208007d" />


Более подробную информацию об устройстве сайта прочитайте в [README](https://github.com/devmanorg/e-diary/blob/master/README.md) расположенному в репозитории с сайтом.

## Как пользоваться

Чтобы начать запускать наш скрипт необходимо в командной строки войти в специальный режим, введя в консоль команду:
```
python manage.py shell
```
<img width="895" height="187" alt="image" src="https://github.com/user-attachments/assets/40bb4221-d821-420e-ac13-d83630329f7e" />



Дальше нам вызвать в нашу командную строку наш скрипт, делается это с помощью ввода команды:
```
import scripts
```
Затем нам необходимо указать скрипту - у какого ученика будем проводить махинации с электронным дневником, для этого введите следующую команду указав в скобках ФИО нужного ученика:
```
child = scripts.find_child('ФИО')
```
> **Примечание**: Не обязательно вводить полное ФИО, иногда достаточно имени. Но если в школе имеется 2 ученика с одним именем придется также указать и фамилию.

### Исправить оценки
Мы готовы к исправлению плохих оценок, для этого всего лишь нужно ввести команду:
```
scripts.fix_marks(child)
```

### Удалить замечания
Если Вам мешают выговоры и замечания, тогда их можно удалить из дневника, используйте команду:
```
scripts.remove_chastisements(child)
```

### Получить похвалу от учителя
Вы больше всех старались на уроке, но Вас не справедливо обделили вниманием и не поставили в журнале похвалу? Возьмите все в свои руки и похвалите себя сами! Вы можете записать себе похвалу на случайный предмет из всех последних уроков, используйте команду:
```
scripts.create_commendation(child)
```

Либо выберите самостоятельно предмет, по которому у Вас обязательно должен быть хвалебный комментарий учителя. Введите нижеуказанную команду и запишите название нужного предмета в скобках, на последнем уроке по этому предмету будет создана похвала. Будьте внимательны - если ошибетесь в названии предмета, ничего не получится.
```
scripts.create_commendation(child, 'Название предмета')
```
Можно не указывать название предмета, в таком случае скрипт создаст похвалу у последнего урока по случайно выбранному предмету:
```
scripts.create_commendation(child)
```

## Цель проекта
Данный проект создан в учебных целях.
